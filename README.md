# DrawStudio - å¼ºå¤§çš„ Vue 3 ç»˜å›¾æ¿æ’ä»¶

<div align="center">
  <p align="center">
    <a href="https://www.npmjs.com/package/draw-studio" target="_blank">
      <img src="https://img.shields.io/npm/v/draw-studio.svg?style=flat-square" alt="npm ç‰ˆæœ¬" />
    </a>
    <a href="https://www.npmjs.com/package/draw-studio" target="_blank">
      <img src="https://img.shields.io/npm/dm/draw-studio.svg?style=flat-square" alt="npm ä¸‹è½½é‡" />
    </a>
    <a href="https://github.com/gmingchen/draw-studio" target="_blank">
      <img src="https://img.shields.io/github/stars/gmingchen/draw-studio.svg?style=flat-square" alt="GitHub æ˜Ÿæ˜Ÿ" />
    </a>
    <a href="https://github.com/gmingchen/draw-studio/blob/main/LICENSE" target="_blank">
      <img src="https://img.shields.io/github/license/gmingchen/draw-studio.svg?style=flat-square" alt="è®¸å¯è¯" />
    </a>
  </p>
</div>

ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œã€æ”¯æŒå¤šç§è‰ºæœ¯é£æ ¼çš„ Vue 3 ç»˜å›¾æ¿æ’ä»¶ï¼ŒåŸºäº Canvas å®ç°ï¼Œæä¾›æµç•…çš„ç»˜å›¾ä½“éªŒå’Œä¸°å¯Œçš„å®šåˆ¶é€‰é¡¹ã€‚é€‚ç”¨äºåœ¨çº¿æ•™è‚²ã€åˆ›æ„è®¾è®¡ã€äº’åŠ¨åº”ç”¨ç­‰å¤šç§åœºæ™¯ã€‚

## âœ¨ ç‰¹æ€§

- ğŸ¨ **å¤šç§è‰ºæœ¯é£æ ¼æ”¯æŒ**ï¼šå†…ç½®æ’å›¾é£æ ¼ã€æ°´å¢¨é£æ ¼ç­‰å¤šç§è‰ºæœ¯æ•ˆæœï¼Œæ»¡è¶³ä¸åŒåˆ›ä½œéœ€æ±‚
- âœï¸ **ä¸°å¯Œçš„ç»˜å›¾å·¥å…·**ï¼šé“…ç¬”ã€ç›´çº¿ç­‰å¤šç§ç»˜å›¾å·¥å…·ï¼Œæ”¯æŒè‡ªç”±åˆ‡æ¢
- ğŸ¯ **ç²¾ç¡®çš„é¢œè‰²é€‰æ‹©**ï¼šé›†æˆé¢œè‰²é€‰æ‹©å™¨å’Œé¢„è®¾é¢œè‰²é¢æ¿ï¼Œè½»æ¾è·å–æ‰€éœ€è‰²å½©
- ğŸ“ **å¯è°ƒèŠ‚çš„çº¿æ¡å®½åº¦**ï¼šæ”¯æŒ 1-50px èŒƒå›´å†…çš„çº¿æ¡ç²—ç»†è°ƒèŠ‚ï¼Œå®ç°ç²¾ç»†ç»˜åˆ¶
- ğŸ”„ **å†å²è®°å½•åŠŸèƒ½**ï¼šå†…ç½®æ’¤é”€/é‡åšåŠŸèƒ½ï¼Œæœ€å¤šæ”¯æŒ 20 æ­¥å†å²æ“ä½œ
- ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šé€‚é…ä¸åŒå±å¹•å°ºå¯¸ï¼Œä»æ‰‹æœºåˆ°æ¡Œé¢è®¾å¤‡éƒ½èƒ½å®Œç¾å±•ç¤º
- ğŸ¨ **å¯å®šåˆ¶çš„å·¥å…·æ **ï¼šæ”¯æŒè‡ªå®šä¹‰å·¥å…·æ ä½ç½®ã€æ˜¾ç¤ºå†…å®¹å’Œæ ·å¼
- ğŸ”§ **TypeScript æ”¯æŒ**ï¼šå®Œæ•´çš„ç±»å‹å®šä¹‰ï¼Œæä¾›è‰¯å¥½çš„å¼€å‘ä½“éªŒ
- ğŸ’¾ **å¯¼å‡ºåŠŸèƒ½**ï¼šæ”¯æŒå°†ç»˜åˆ¶å†…å®¹å¯¼å‡ºä¸º PNGã€JPG ç­‰æ ¼å¼
- ğŸ” **ç¼©æ”¾åŠŸèƒ½**ï¼šæ”¯æŒç”»å¸ƒç¼©æ”¾ï¼Œä¾¿äºç»†èŠ‚ç»˜åˆ¶

## ğŸ¯ ä½¿ç”¨åœºæ™¯

- **åœ¨çº¿æ•™è‚²**ï¼šæ•™å¸ˆå¯ä»¥åœ¨è¯¾å ‚ä¸Šå®æ—¶ç»˜åˆ¶æ•™å­¦å†…å®¹ï¼Œå¢å¼ºäº’åŠ¨æ€§
- **åˆ›æ„è®¾è®¡**ï¼šè®¾è®¡å¸ˆå¯ä»¥å¿«é€Ÿè‰å›¾ç»˜åˆ¶ï¼Œæ•æ‰çµæ„Ÿ
- **äº’åŠ¨åº”ç”¨**ï¼šæ¸¸æˆã€äº’åŠ¨æ•…äº‹ç­‰åº”ç”¨ä¸­é›†æˆç»˜å›¾åŠŸèƒ½
- **åœ¨çº¿åä½œ**ï¼šå¤šäººå®æ—¶åä½œç»˜å›¾ï¼Œé€‚ç”¨äºè¿œç¨‹å›¢é˜Ÿ
- **å„¿ç«¥æ•™è‚²**ï¼šæä¾›ç®€å•æ˜“ç”¨çš„ç»˜å›¾å·¥å…·ï¼ŒåŸ¹å…»å„¿ç«¥åˆ›é€ åŠ›

## ğŸ“¦ å®‰è£…

### æ–¹å¼ä¸€ï¼šnpm

```bash
npm install draw-studio
```

### æ–¹å¼äºŒï¼šyarn

```bash
yarn add draw-studio
```

### æ–¹å¼ä¸‰ï¼špnpm

```bash
pnpm add draw-studio
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
# é€‰æ‹©åˆé€‚çš„åŒ…ç®¡ç†å™¨
npm install draw-studio
# æˆ–
yarn add draw-studio
# æˆ–
pnpm add draw-studio
```

### å…¨å±€æ³¨å†Œ

```javascript
// main.js
import { createApp } from 'vue'
import App from './App.vue'
import DrawStudio from 'draw-studio'
import 'draw-studio/dist/draw-studio.css'

const app = createApp(App)
app.use(DrawStudio)
app.mount('#app')
```

### å±€éƒ¨å¯¼å…¥

```vue
<template>
  <div class="app">
    <h1>DrawStudio ç»˜å›¾æ¿ç¤ºä¾‹</h1>
    <DrawStudio
      :width="800"
      :height="600"
      :color="'#000000'"
      :lineWidth="3"
      :backgroundColor="'#ffffff'"
      :useToolbar="true"
      :toolbarPosition="'top'"
      @draw="handleDraw"
      @undo="handleUndo"
      @redo="handleRedo"
      @clear="handleClear"
      @download="handleDownload"
    />
  </div>
</template>

<script setup>
import { DrawStudio } from 'draw-studio'
import 'draw-studio/dist/draw-studio.css'

const handleDraw = (canvas, context, position) => {
  console.log('ç»˜åˆ¶ä¸­ï¼Œå½“å‰ä½ç½®:', position)
}

const handleUndo = (canvas, context, imageData) => {
  console.log('æ‰§è¡Œæ’¤é”€æ“ä½œ')
}

const handleRedo = (canvas, context, imageData) => {
  console.log('æ‰§è¡Œé‡åšæ“ä½œ')
}

const handleClear = (canvas, context) => {
  console.log('æ¸…ç©ºç”»å¸ƒ')
}

const handleDownload = (canvas, context) => {
  console.log('ä¸‹è½½å›¾ç‰‡')
}
</script>

<style scoped>
.app {
  max-width: 1000px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  text-align: center;
  margin-bottom: 30px;
  color: #333;
}
</style>
```

### åŸºç¡€é…ç½®ç¤ºä¾‹

```vue
<template>
  <div class="drawing-container">
    <DrawStudio
      :width="1000"
      :height="600"
      :backgroundColor="'#f5f5f5'"
      :lineWidth="5"
      :color="'#333333'"
      :toolbarPosition="'left'"
      :useHistory="true"
      :maxHistory="30"
    />
  </div>
</template>

<script setup>
import { DrawStudio } from 'draw-studio'
import 'draw-studio/dist/draw-studio.css'
</script>
```

## ğŸ“ ç»„ä»¶å±æ€§

| å±æ€§å | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |
|-------|------|-------|------|
| `width` | `Number` | `500` | ç”»å¸ƒå®½åº¦ï¼Œå•ä½ï¼šåƒç´  |
| `height` | `Number` | `500` | ç”»å¸ƒé«˜åº¦ï¼Œå•ä½ï¼šåƒç´  |
| `backgroundColor` | `String` | `'#FFFFFF'` | ç”»å¸ƒèƒŒæ™¯é¢œè‰²ï¼Œæ”¯æŒ HEXã€RGBã€RGBA æ ¼å¼ |
| `lineWidth` | `Number` | `3` | çº¿æ¡å®½åº¦ï¼ŒèŒƒå›´ï¼š1-50px |
| `color` | `String` | `'#000000'` | ç»˜åˆ¶é¢œè‰²ï¼Œæ”¯æŒ HEXã€RGBã€RGBA æ ¼å¼ |
| `useToolbar` | `Boolean` | `true` | æ˜¯å¦æ˜¾ç¤ºå·¥å…·æ  |
| `toolbarPosition` | `String` | `'top'` | å·¥å…·æ ä½ç½®ï¼Œå¯é€‰å€¼ï¼š`'top'`ã€`'right'`ã€`'bottom'`ã€`'left'` |
| `useHistory` | `Boolean` | `true` | æ˜¯å¦å¯ç”¨å†å²è®°å½•åŠŸèƒ½ |
| `maxHistory` | `Number` | `20` | æœ€å¤§å†å²è®°å½•æ•°é‡ï¼ŒèŒƒå›´ï¼š1-100 |

## ğŸ‰ äº‹ä»¶

| äº‹ä»¶å | å‚æ•° | æè¿° |
|-------|------|------|
| `update:line-width` | `lineWidth: number` | çº¿æ¡å®½åº¦å˜æ›´æ—¶è§¦å‘ |
| `update:color` | `color: string` | é¢œè‰²å˜æ›´æ—¶è§¦å‘ |
| `draw` | `canvas: HTMLCanvasElement, context: CanvasRenderingContext2D, position: Position` | ç»˜åˆ¶æ—¶è§¦å‘ï¼ŒåŒ…å«å½“å‰é¼ æ ‡ä½ç½® |
| `undo` | `canvas: HTMLCanvasElement, context: CanvasRenderingContext2D, imageData: ImageData` | æ’¤é”€æ“ä½œæ—¶è§¦å‘ï¼ŒåŒ…å«å½“å‰ç”»å¸ƒçŠ¶æ€ |
| `redo` | `canvas: HTMLCanvasElement, context: CanvasRenderingContext2D, imageData: ImageData` | é‡åšæ“ä½œæ—¶è§¦å‘ï¼ŒåŒ…å«å½“å‰ç”»å¸ƒçŠ¶æ€ |
| `clear` | `canvas: HTMLCanvasElement, context: CanvasRenderingContext2D` | æ¸…ç©ºç”»å¸ƒæ—¶è§¦å‘ |
| `download` | `canvas: HTMLCanvasElement, context: CanvasRenderingContext2D` | ä¸‹è½½å›¾ç‰‡æ—¶è§¦å‘ |

### äº‹ä»¶å¤„ç†ç¤ºä¾‹

```vue
<template>
  <div class="app">
    <h1>DrawStudio äº‹ä»¶å¤„ç†ç¤ºä¾‹</h1>
    <DrawStudio
      :width="800"
      :height="600"
      @draw="onDraw"
      @undo="onUndo"
      @redo="onRedo"
      @clear="onClear"
      @download="onDownload"
      @update:line-width="onLineWidthChange"
      @update:color="onColorChange"
    />
    
    <div class="event-log">
      <h3>äº‹ä»¶æ—¥å¿—</h3>
      <ul>
        <li v-for="(log, index) in eventLogs" :key="index">
          {{ log }}
        </li>
      </ul>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { DrawStudio } from 'draw-studio-vue3'
import 'draw-studio-vue3/dist/draw-studio.css'

const eventLogs = ref([])

const addLog = (message) => {
  eventLogs.value.push(`${new Date().toLocaleTimeString()}: ${message}`)
  // åªä¿ç•™æœ€è¿‘ 10 æ¡æ—¥å¿—
  if (eventLogs.value.length > 10) {
    eventLogs.value.shift()
  }
}

const onDraw = (canvas, context, position) => {
  addLog(`ç»˜åˆ¶ä¸­ - ä½ç½®: (${position.x}, ${position.y})`)
}

const onUndo = (canvas, context, imageData) => {
  addLog('æ‰§è¡Œæ’¤é”€æ“ä½œ')
}

const onRedo = (canvas, context, imageData) => {
  addLog('æ‰§è¡Œé‡åšæ“ä½œ')
}

const onClear = (canvas, context) => {
  addLog('æ¸…ç©ºç”»å¸ƒ')
}

const onDownload = (canvas, context) => {
  addLog('ä¸‹è½½å›¾ç‰‡')
}

const onLineWidthChange = (lineWidth) => {
  addLog(`çº¿æ¡å®½åº¦å˜æ›´ä¸º: ${lineWidth}px`)
}

const onColorChange = (color) => {
  addLog(`é¢œè‰²å˜æ›´ä¸º: ${color}`)
}
</script>

<style scoped>
.app {
  display: flex;
  gap: 20px;
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

.event-log {
  flex: 1;
  min-width: 300px;
  background: #f5f5f5;
  padding: 15px;
  border-radius: 8px;
  max-height: 600px;
  overflow-y: auto;
}

ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

li {
  padding: 8px;
  border-bottom: 1px solid #ddd;
  font-size: 14px;
}
</style>
```

## ğŸ¨ è‰ºæœ¯é£æ ¼

### æ’å›¾é£æ ¼

é€šè¿‡è°ƒæ•´é¢œè‰²å’Œçº¿æ¡å®½åº¦ï¼Œåˆ›å»ºç²¾ç¾çš„æ’å›¾æ•ˆæœï¼š

```vue
<DrawStudio
  :width="800"
  :height="600"
  :color="'#333333'"
  :lineWidth="2"
  :backgroundColor="'#f8f8f8'"
/>
```

### æ°´å¢¨é£æ ¼

ä½¿ç”¨æ·±è‰²çº¿æ¡å’Œæµ…è‰²èƒŒæ™¯ï¼Œè¥é€ æ°´å¢¨æ•ˆæœï¼š

```vue
<DrawStudio
  :width="800"
  :height="600"
  :color="'#2c2c2c'"
  :lineWidth="4"
  :backgroundColor="'#f0f0f0'"
/>
```

### å¡é€šé£æ ¼

ä½¿ç”¨é²œè‰³çš„é¢œè‰²å’Œè¾ƒç²—çš„çº¿æ¡ï¼Œåˆ›å»ºå¡é€šæ•ˆæœï¼š

```vue
<DrawStudio
  :width="800"
  :height="600"
  :color="'#ff6b6b'"
  :lineWidth="5"
  :backgroundColor="'#ffffff'"
/>
```

### ç´ æé£æ ¼

ä½¿ç”¨ç°è‰²çº¿æ¡å’Œç™½è‰²èƒŒæ™¯ï¼Œæ¨¡æ‹Ÿç´ ææ•ˆæœï¼š

```vue
<DrawStudio
  :width="800"
  :height="600"
  :color="'#666666'"
  :lineWidth="2"
  :backgroundColor="'#ffffff'"
/>
```

### è‰ºæœ¯é£æ ¼ç»„åˆ

æ‚¨å¯ä»¥æ ¹æ®éœ€è¦è‡ªç”±ç»„åˆä¸åŒçš„é£æ ¼å‚æ•°ï¼Œåˆ›é€ å‡ºç‹¬ç‰¹çš„è‰ºæœ¯æ•ˆæœï¼š

```vue
<template>
  <div class="style-presets">
    <h2>è‰ºæœ¯é£æ ¼é¢„è®¾</h2>
    
    <div class="preset-grid">
      <!-- æ’å›¾é£æ ¼ -->
      <div class="preset-item">
        <h3>æ’å›¾é£æ ¼</h3>
        <DrawStudio
          :width="300"
          :height="200"
          :color="'#333333'"
          :lineWidth="2"
          :backgroundColor="'#f8f8f8'"
          :useToolbar="false"
        />
      </div>
      
      <!-- æ°´å¢¨é£æ ¼ -->
      <div class="preset-item">
        <h3>æ°´å¢¨é£æ ¼</h3>
        <DrawStudio
          :width="300"
          :height="200"
          :color="'#2c2c2c'"
          :lineWidth="4"
          :backgroundColor="'#f0f0f0'"
          :useToolbar="false"
        />
      </div>
      
      <!-- å¡é€šé£æ ¼ -->
      <div class="preset-item">
        <h3>å¡é€šé£æ ¼</h3>
        <DrawStudio
          :width="300"
          :height="200"
          :color="'#ff6b6b'"
          :lineWidth="5"
          :backgroundColor="'#ffffff'"
          :useToolbar="false"
        />
      </div>
      
      <!-- ç´ æé£æ ¼ -->
      <div class="preset-item">
        <h3>ç´ æé£æ ¼</h3>
        <DrawStudio
          :width="300"
          :height="200"
          :color="'#666666'"
          :lineWidth="2"
          :backgroundColor="'#ffffff'"
          :useToolbar="false"
        />
      </div>
    </div>
  </div>
</template>

<script setup>
import { DrawStudio } from 'draw-studio-vue3'
import 'draw-studio-vue3/dist/draw-studio.css'
</script>

<style scoped>
.style-presets {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

.preset-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 20px;
  margin-top: 20px;
}

.preset-item {
  background: #f9f9f9;
  padding: 15px;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.preset-item h3 {
  margin-top: 0;
  margin-bottom: 15px;
  color: #333;
  font-size: 16px;
}
</style>
```

## ğŸ“š é«˜çº§ç”¨æ³•

### è‡ªå®šä¹‰å·¥å…·æ 

é€šè¿‡ç¦ç”¨å†…ç½®å·¥å…·æ å¹¶åˆ›å»ºè‡ªå®šä¹‰ç•Œé¢ï¼Œå®ç°å®Œå…¨ä¸ªæ€§åŒ–çš„æ§åˆ¶ä½“éªŒï¼š

```vue
<template>
  <div class="custom-toolbar">
    <!-- è‡ªå®šä¹‰å·¥å…·æ  -->
    <div class="toolbar-buttons">
      <button @click="undo" :disabled="!canUndo">æ’¤é”€</button>
      <button @click="redo" :disabled="!canRedo">é‡åš</button>
      <button @click="clear">æ¸…ç©º</button>
      <button @click="download">ä¸‹è½½</button>
    </div>

    <!-- é¢œè‰²å’Œçº¿æ¡æ§åˆ¶ -->
    <div class="tool-controls">
      <div class="control-group">
        <label>é¢œè‰²ï¼š</label>
        <input type="color" v-model="color" @input="updateColor">
      </div>
      <div class="control-group">
        <label>çº¿æ¡å®½åº¦ï¼š</label>
        <input type="range" v-model.number="lineWidth" min="1" max="20" @input="updateLineWidth">
        <span>{{ lineWidth }}px</span>
      </div>
    </div>

    <!-- ä¸å¸¦å·¥å…·æ çš„ç»˜å›¾æ¿ -->
    <DrawStudio
      ref="drawStudioRef"
      :width="800"
      :height="600"
      :useToolbar="false"
      :color="color"
      :lineWidth="lineWidth"
      :tool="currentTool"
      @draw="onDraw"
      @undo="onUndo"
      @redo="onRedo"
    />
  </div>
</template>

<script setup>
import { ref, computed } from 'vue'
import { DrawStudio } from 'draw-studio-vue3'
import 'draw-studio-vue3/dist/draw-studio.css'

const drawStudioRef = ref(null)
const color = ref('#000000')
const lineWidth = ref(3)
const canUndo = ref(false)
const canRedo = ref(false)

const updateColor = (event) => {
  color.value = event.target.value
}

const updateLineWidth = (event) => {
  lineWidth.value = Number(event.target.value)
}

const undo = () => {
  // å®ç°æ’¤é”€é€»è¾‘
  canUndo.value = false
}

const redo = () => {
  // å®ç°é‡åšé€»è¾‘
  canRedo.value = false
}

const clear = () => {
  // å®ç°æ¸…ç©ºé€»è¾‘
}

const download = () => {
  // å®ç°ä¸‹è½½é€»è¾‘
}

const onDraw = (canvas, context, position) => {
  // ç»˜åˆ¶æ—¶æ›´æ–°çŠ¶æ€
  canUndo.value = true
  canRedo.value = false
}

const onUndo = () => {
  canUndo.value = false
  canRedo.value = true
}

const onRedo = () => {
  canUndo.value = true
  canRedo.value = false
}
</script>

<style scoped>
.custom-toolbar {
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
}

.toolbar-buttons {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.toolbar-buttons button {
  padding: 8px 16px;
  border: 1px solid #ddd;
  background: #f5f5f5;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.toolbar-buttons button:hover {
  background: #e0e0e0;
}

.toolbar-buttons button.active {
  background: #4CAF50;
  color: white;
  border-color: #4CAF50;
}

.toolbar-separator {
  width: 1px;
  background: #ddd;
  margin: 0 10px;
}

.tool-controls {
  display: flex;
  gap: 20px;
  margin-bottom: 20px;
  align-items: center;
}

.control-group {
  display: flex;
  align-items: center;
  gap: 10px;
}

.control-group input[type="range"] {
  width: 100px;
}
</style>
```

### ç»“åˆå…¶ä»–ç»„ä»¶ä½¿ç”¨

ä¸ Vue 3 çš„å“åº”å¼ç³»ç»Ÿå’Œå…¶ä»–ç»„ä»¶æ— ç¼é›†æˆï¼š

```vue
<template>
  <div class="app">
    <h1>DrawStudio ä¸å…¶ä»–ç»„ä»¶ç»“åˆ</h1>
    
    <div class="controls">
      <label>é¢œè‰²ï¼š</label>
      <input type="color" v-model="color" @input="updateColor">
      
      <label>çº¿æ¡å®½åº¦ï¼š</label>
      <input type="range" v-model.number="lineWidth" min="1" max="20" @input="updateLineWidth">
      
      <label>ç”»å¸ƒèƒŒæ™¯ï¼š</label>
      <input type="color" v-model="backgroundColor" @input="updateBackground">
    </div>
    
    <div class="canvas-container">
      <DrawStudio
        ref="drawStudioRef"
        :width="800"
        :height="600"
        :color="color"
        :lineWidth="lineWidth"
        :backgroundColor="backgroundColor"
        @update:color="color = $event"
        @update:line-width="lineWidth = $event"
        @draw="onDraw"
      />
    </div>
    
    <div class="drawing-stats">
      <p>ç»˜åˆ¶æ¬¡æ•°ï¼š{{ drawCount }}</p>
      <p>å½“å‰å·¥å…·ï¼š{{ currentTool }}</p>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, watch } from 'vue'
import { DrawStudio } from 'draw-studio-vue3'
import 'draw-studio-vue3/dist/draw-studio.css'

const drawStudioRef = ref(null)
const color = ref('#000000')
const lineWidth = ref(3)
const backgroundColor = ref('#ffffff')
const drawCount = ref(0)
const currentTool = ref('pencil')

const updateColor = (event) => {
  color.value = event.target.value
}

const updateLineWidth = (event) => {
  lineWidth.value = Number(event.target.value)
}

const updateBackground = (event) => {
  backgroundColor.value = event.target.value
}

const onDraw = () => {
  drawCount.value++
}

// ç›‘å¬å·¥å…·å˜åŒ–
watch(currentTool, (newTool) => {
  console.log('å·¥å…·åˆ‡æ¢ä¸º:', newTool)
})
</script>

<style scoped>
.app {
  max-width: 1000px;
  margin: 0 auto;
  padding: 20px;
}

.controls {
  display: flex;
  gap: 20px;
  margin-bottom: 20px;
  padding: 15px;
  background: #f5f5f5;
  border-radius: 8px;
  flex-wrap: wrap;
}

.control-group {
  display: flex;
  align-items: center;
  gap: 10px;
}

.canvas-container {
  border: 1px solid #ddd;
  border-radius: 8px;
  overflow: hidden;
}

.drawing-stats {
  margin-top: 20px;
  padding: 15px;
  background: #f9f9f9;
  border-radius: 8px;
  font-size: 14px;
}
</style>
```

### æ€§èƒ½ä¼˜åŒ–

å¯¹äºå¤§å‹ç»˜å›¾åº”ç”¨ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¼˜åŒ–æ€§èƒ½ï¼š

```vue
<template>
  <div class="performance-optimized">
    <h1>æ€§èƒ½ä¼˜åŒ–ç¤ºä¾‹</h1>
    <DrawStudio
      :width="1200"
      :height="800"
      :useHistory="true"
      :maxHistory="10"  <!-- å‡å°‘å†å²è®°å½•æ•°é‡ -->
      :lineWidth="2"
      @draw="onDraw"
    />
    <div class="performance-stats">
      <p>å¸§ç‡ï¼š{{ fps }} FPS</p>
      <p>å†…å­˜ä½¿ç”¨ï¼š{{ memoryUsage }} MB</p>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted, onUnmounted } from 'vue'
import { DrawStudio } from 'draw-studio-vue3'
import 'draw-studio-vue3/dist/draw-studio.css'

const fps = ref(60)
const memoryUsage = ref(0)
let frameCount = 0
let lastTime = 0
let statsInterval = null

const updateStats = () => {
  // æ¨¡æ‹Ÿæ€§èƒ½ç»Ÿè®¡
  fps.value = Math.round(Math.random() * 10 + 50)
  memoryUsage.value = Math.round(Math.random() * 50 + 100)
}

const onDraw = () => {
  // ç»˜åˆ¶æ—¶çš„æ€§èƒ½ä¼˜åŒ–é€»è¾‘
}

onMounted(() => {
  statsInterval = setInterval(updateStats, 1000)
})

onUnmounted(() => {
  if (statsInterval) {
    clearInterval(statsInterval)
  }
})
</script>

<style scoped>
.performance-optimized {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

.performance-stats {
  margin-top: 20px;
  padding: 15px;
  background: #f9f9f9;
  border-radius: 8px;
  font-size: 14px;
}
</style>
```

## ğŸ”§ å¼€å‘æŒ‡å—

### å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/gmingchen/draw-studio.git
cd draw-studio
```

### å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨ pnpm å®‰è£…ä¾èµ–ï¼ˆæ¨èï¼‰
pnpm install

# æˆ–ä½¿ç”¨ npm
npm install

# æˆ–ä½¿ç”¨ yarn
yarn install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å¯åŠ¨ Vue 3 æ¼”ç¤ºé¡¹ç›®
pnpm run dev:vue3

# è®¿é—®åœ°å€: http://localhost:5173
```

### æ„å»º

```bash
# æ„å»º Vue 3 åº“
pnpm run build:lib

# æ„å»ºæ‰€æœ‰åŒ…
pnpm run build

# æ„å»ºç»“æœå°†è¾“å‡ºåˆ° dist/ ç›®å½•
```

### ä»£ç è§„èŒƒ

é¡¹ç›®ä½¿ç”¨ ESLint å’Œ Prettier æ¥ä¿è¯ä»£ç è´¨é‡å’Œé£æ ¼ä¸€è‡´æ€§ï¼š

```bash
# è¿è¡Œ ESLint æ£€æŸ¥
pnpm run lint

# è¿è¡Œ Prettier æ ¼å¼åŒ–
pnpm run format
```

### æµ‹è¯•

```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
pnpm run test

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pnpm run test:coverage
```

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
draw-studio/
â”œâ”€â”€ src/              # ä¸»å…¥å£
â”œâ”€â”€ packages/         # åŒ…ç›®å½•
â”‚   â”œâ”€â”€ draw-studio-for-vue3/  # Vue 3 ç»„ä»¶å®ç°
â”‚   â”‚   â”œâ”€â”€ src/              # ç»„ä»¶æºä»£ç 
â”‚   â”‚   â”‚   â”œâ”€â”€ components/   # å­ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/        # è‡ªå®šä¹‰ hooks
â”‚   â”‚   â”‚   â”œâ”€â”€ utils/        # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â””â”€â”€ index.ts      # ç»„ä»¶å¯¼å‡º
â”‚   â”‚   â””â”€â”€ package.json      # åŒ…é…ç½®
â”‚   â”œâ”€â”€ theme-chalk/          # æ ·å¼ä¸»é¢˜
â”‚   â”‚   â””â”€â”€ src/              # æ ·å¼æºä»£ç 
â”‚   â””â”€â”€ utils/                # å·¥å…·å‡½æ•°
â”œâ”€â”€ play/             # æ¼”ç¤ºé¡¹ç›®
â”‚   â””â”€â”€ vue3/         # Vue 3 æ¼”ç¤º
â”‚       â”œâ”€â”€ src/      # æ¼”ç¤ºæºä»£ç 
â”‚       â””â”€â”€ public/   # é™æ€èµ„æº
â”œâ”€â”€ dist/             # æ„å»ºè¾“å‡º
â”‚   â”œâ”€â”€ draw-studio-vue3/  # Vue 3 æ„å»ºç»“æœ
â”‚   â””â”€â”€ types/            # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ scripts/          # æ„å»ºè„šæœ¬
â”œâ”€â”€ tsconfig.json     # TypeScript é…ç½®
â”œâ”€â”€ package.json      # é¡¹ç›®é…ç½®
â””â”€â”€ README.md         # é¡¹ç›®æ–‡æ¡£
```

### ç›®å½•è¯´æ˜

- **packages/draw-studio-for-vue3/**: Vue 3 ç»„ä»¶çš„æ ¸å¿ƒå®ç°
- **packages/theme-chalk/**: ç»„ä»¶çš„æ ·å¼ä¸»é¢˜ï¼Œä½¿ç”¨ SCSS ç¼–å†™
- **packages/utils/**: é€šç”¨å·¥å…·å‡½æ•°ï¼Œä¾›å„ä¸ªåŒ…ä½¿ç”¨
- **play/vue3/**: Vue 3 ç‰ˆæœ¬çš„æ¼”ç¤ºé¡¹ç›®ï¼Œç”¨äºå¼€å‘å’Œæµ‹è¯•
- **dist/**: æ„å»ºè¾“å‡ºç›®å½•ï¼ŒåŒ…å«æœ€ç»ˆçš„å‘å¸ƒæ–‡ä»¶
- **scripts/**: æ„å»ºå’Œå‘å¸ƒç›¸å…³çš„è„šæœ¬

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥å¸®åŠ©æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼æˆ‘ä»¬éå¸¸æ„Ÿè°¢ç¤¾åŒºçš„è´¡çŒ®ã€‚

### è´¡çŒ®æµç¨‹

1. **Fork æœ¬ä»“åº“**
2. **åˆ›å»ºåˆ†æ”¯**
   ```bash
   git checkout -b feature/AmazingFeature
   # æˆ–ä¿®å¤ bug
   git checkout -b fix/BugFix
   ```
3. **æäº¤æ›´æ”¹**
   ```bash
   git commit -m 'Add some AmazingFeature' --no-verify
   ```
4. **æ¨é€åˆ°åˆ†æ”¯**
   ```bash
   git push origin feature/AmazingFeature
   ```
5. **æ‰“å¼€ Pull Request**
   - è¯·åœ¨ PR æè¿°ä¸­è¯¦ç»†è¯´æ˜æ›´æ”¹å†…å®¹
   - å¦‚æœ‰ç›¸å…³ Issueï¼Œè¯·å¼•ç”¨ Issue ç¼–å·

### å¼€å‘è§„èŒƒ

- ä»£ç é£æ ¼ï¼šéµå¾ªé¡¹ç›®çš„ ESLint å’Œ Prettier é…ç½®
- æäº¤ä¿¡æ¯ï¼šä½¿ç”¨æ¸…æ™°ã€ç®€æ´çš„æäº¤ä¿¡æ¯
- æµ‹è¯•ï¼šä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯•ç”¨ä¾‹
- æ–‡æ¡£ï¼šæ›´æ–°ç›¸å…³æ–‡æ¡£

### æŠ¥å‘Šé—®é¢˜

å¦‚æœæ‚¨å‘ç°äº†é—®é¢˜ï¼Œè¯·åœ¨ GitHub ä¸Šæäº¤ Issueï¼ŒåŒ…æ‹¬ï¼š
- é—®é¢˜æè¿°
- å¤ç°æ­¥éª¤
- æœŸæœ›è¡Œä¸º
- å®é™…è¡Œä¸º
- ç¯å¢ƒä¿¡æ¯ï¼ˆæµè§ˆå™¨ã€æ“ä½œç³»ç»Ÿç­‰ï¼‰

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ“ è”ç³»

- ä½œè€…ï¼šgumingchen
- GitHubï¼š[https://github.com/gmingchen/draw-studio](https://github.com/gmingchen/draw-studio)
- Emailï¼š[gumingchen@example.com](mailto:gumingchen@example.com)

## ğŸ™ æ”¯æŒ

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ï¸ æ”¯æŒä¸€ä¸‹ï¼æ‚¨çš„æ”¯æŒæ˜¯æˆ‘ä»¬æŒç»­æ”¹è¿›çš„åŠ¨åŠ›ã€‚

### å¦‚ä½•æ”¯æŒ

1. **Star æœ¬ä»“åº“**ï¼šåœ¨ GitHub ä¸Šç»™é¡¹ç›®ç‚¹ä¸ªæ˜Ÿ
2. **åˆ†äº«é¡¹ç›®**ï¼šæ¨èç»™æ‚¨çš„æœ‹å‹å’ŒåŒäº‹
3. **æäº¤ Issue**ï¼šæŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®
4. **è´¡çŒ®ä»£ç **ï¼šæäº¤ Pull Request æ¥æ”¹è¿›é¡¹ç›®
5. **æ’°å†™æ•™ç¨‹**ï¼šåˆ†äº«æ‚¨ä½¿ç”¨ DrawStudio çš„ç»éªŒ

## ğŸ“š ç›¸å…³èµ„æº

- [Vue 3 å®˜æ–¹æ–‡æ¡£](https://v3.vuejs.org/)
- [Canvas API æ–‡æ¡£](https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API)
- [TypeScript å®˜æ–¹æ–‡æ¡£](https://www.typescriptlang.org/docs/)

---

<div align="center">
  <p>Made with â¤ï¸ by gumingchen</p>
  <p>Â© 2026 DrawStudio. All rights reserved.</p>
</div>
